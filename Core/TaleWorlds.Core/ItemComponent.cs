using System;
using System.Collections.Generic;
using System.Xml;
using TaleWorlds.ObjectSystem;

namespace TaleWorlds.Core
{
	public abstract class ItemComponent : MBObjectBase
	{
		protected override void AutoGeneratedInstanceCollectObjects(List<object> collectedObjects)
		{
			base.AutoGeneratedInstanceCollectObjects(collectedObjects);
		}

		public ItemObject Item { get; set; }

		public ItemModifierGroup ItemModifierGroup { get; protected set; }

		public override void Deserialize(MBObjectManager objectManager, XmlNode node)
		{
			this.Initialize();
			XmlAttribute xmlAttribute = node.Attributes["modifier_group"];
			string text = ((xmlAttribute != null) ? xmlAttribute.Value : null);
			if (text != null)
			{
				this.ItemModifierGroup = Game.Current.ObjectManager.GetObject<ItemModifierGroup>(text);
			}
		}

		public abstract ItemComponent GetCopy();
	}
}
