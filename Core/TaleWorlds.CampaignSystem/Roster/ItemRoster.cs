using System;
using System.Collections;
using System.Collections.Generic;
using TaleWorlds.Core;
using TaleWorlds.Library;
using TaleWorlds.ObjectSystem;
using TaleWorlds.SaveSystem;

namespace TaleWorlds.CampaignSystem.Roster
{
	// Token: 0x0200028E RID: 654
	public class ItemRoster : IReadOnlyList<ItemRosterElement>, IEnumerable<ItemRosterElement>, IEnumerable, IReadOnlyCollection<ItemRosterElement>, ISerializableObject
	{
		// Token: 0x06002273 RID: 8819 RVA: 0x000924B7 File Offset: 0x000906B7
		internal static void AutoGeneratedStaticCollectObjectsItemRoster(object o, List<object> collectedObjects)
		{
			((ItemRoster)o).AutoGeneratedInstanceCollectObjects(collectedObjects);
		}

		// Token: 0x06002274 RID: 8820 RVA: 0x000924C5 File Offset: 0x000906C5
		protected virtual void AutoGeneratedInstanceCollectObjects(List<object> collectedObjects)
		{
			collectedObjects.Add(this._data);
		}

		// Token: 0x06002275 RID: 8821 RVA: 0x000924D3 File Offset: 0x000906D3
		internal static object AutoGeneratedGetMemberValue_data(object o)
		{
			return ((ItemRoster)o)._data;
		}

		// Token: 0x06002276 RID: 8822 RVA: 0x000924E0 File Offset: 0x000906E0
		internal static object AutoGeneratedGetMemberValue_count(object o)
		{
			return ((ItemRoster)o)._count;
		}

		// Token: 0x17000892 RID: 2194
		public ItemRosterElement this[int index]
		{
			get
			{
				return this._data[index];
			}
		}

		// Token: 0x17000893 RID: 2195
		// (get) Token: 0x06002278 RID: 8824 RVA: 0x00092500 File Offset: 0x00090700
		public int Count
		{
			get
			{
				return this._count;
			}
		}

		// Token: 0x06002279 RID: 8825 RVA: 0x00092508 File Offset: 0x00090708
		public ItemRoster()
		{
			this._data = new ItemRosterElement[4];
			this._count = 0;
		}

		// Token: 0x0600227A RID: 8826 RVA: 0x00092523 File Offset: 0x00090723
		public ItemRoster(ItemRoster other)
		{
			this._data = new ItemRosterElement[other.Count];
			this._count = 0;
			this.Add(other);
			this.CalculateCachedStats();
		}

		// Token: 0x17000894 RID: 2196
		// (get) Token: 0x0600227B RID: 8827 RVA: 0x00092550 File Offset: 0x00090750
		// (set) Token: 0x0600227C RID: 8828 RVA: 0x00092558 File Offset: 0x00090758
		[CachedData]
		public int VersionNo { get; private set; }

		// Token: 0x0600227D RID: 8829 RVA: 0x00092564 File Offset: 0x00090764
		private void EnsureLength(int length)
		{
			if (length > 0 && (this._data == null || length > this._data.Length))
			{
				int num = 4;
				if (this._data != null)
				{
					num = this._data.Length * 2;
				}
				ItemRosterElement[] array = new ItemRosterElement[num];
				for (int i = 0; i < this._count; i++)
				{
					array[i] = this._data[i];
				}
				this._data = array;
			}
		}

		// Token: 0x0600227E RID: 8830 RVA: 0x000925D0 File Offset: 0x000907D0
		public int FindIndexOfItem(ItemObject item)
		{
			for (int i = 0; i < this._count; i++)
			{
				if (this._data[i].EquipmentElement.Item == item)
				{
					return i;
				}
			}
			return -1;
		}

		// Token: 0x0600227F RID: 8831 RVA: 0x00092610 File Offset: 0x00090810
		public int FindIndex(Predicate<ItemObject> predicate)
		{
			for (int i = 0; i < this._count; i++)
			{
				if (predicate(this._data[i].EquipmentElement.Item))
				{
					return i;
				}
			}
			return -1;
		}

		// Token: 0x06002280 RID: 8832 RVA: 0x00092654 File Offset: 0x00090854
		public int FindIndexFirstAfterXthElement(Predicate<ItemObject> predicate, int x)
		{
			for (int i = 0; i < x + this._count; i++)
			{
				if (predicate(this._data[i % this._count].EquipmentElement.Item))
				{
					return i;
				}
			}
			return -1;
		}

		// Token: 0x06002281 RID: 8833 RVA: 0x000926A0 File Offset: 0x000908A0
		public int FindIndexOfElement(EquipmentElement rosterElement)
		{
			for (int i = 0; i < this._count; i++)
			{
				if (rosterElement.IsEqualTo(this._data[i].EquipmentElement))
				{
					return i;
				}
			}
			return -1;
		}

		// Token: 0x06002282 RID: 8834 RVA: 0x000926DC File Offset: 0x000908DC
		private int AddNewElement(ItemRosterElement rosterElement, bool insertAtFront = false)
		{
			int num = this._count + 1;
			this.EnsureLength(num);
			int num2 = this._count;
			this.OnRosterUpdated(ref rosterElement, rosterElement.Amount);
			if (insertAtFront)
			{
				for (int i = this._count; i > 0; i--)
				{
					this._data[i] = this._data[i - 1];
				}
				num2 = 0;
			}
			this._data[num2] = rosterElement;
			this._count = num;
			this.UpdateVersion();
			return num2;
		}

		// Token: 0x06002283 RID: 8835 RVA: 0x0009275A File Offset: 0x0009095A
		public int AddToCounts(ItemObject item, int number)
		{
			if (number == 0)
			{
				return -1;
			}
			return this.AddToCounts(new EquipmentElement(item, null, null, false), number);
		}

		// Token: 0x06002284 RID: 8836 RVA: 0x00092774 File Offset: 0x00090974
		public int AddToCounts(EquipmentElement rosterElement, int number)
		{
			if (number == 0)
			{
				return -1;
			}
			int num = this.FindIndexOfElement(rosterElement);
			if (num < 0)
			{
				if (number < 0)
				{
					Debug.FailedAssert("Trying to delete an element from Item Roster that does not exist!", "C:\\Develop\\MB3\\Source\\Bannerlord\\TaleWorlds.CampaignSystem\\Roster\\ItemRoster.cs", "AddToCounts", 174);
					return -1;
				}
				num = this.AddNewElement(new ItemRosterElement(rosterElement, 0), false);
			}
			this.OnRosterUpdated(ref this._data[num], number);
			ItemRosterElement[] data = this._data;
			int num2 = num;
			data[num2].Amount = data[num2].Amount + number;
			if (this._data[num].Amount <= 0)
			{
				this._data[num] = this._data[this._count - 1];
				this._data[this._count - 1] = ItemRosterElement.Invalid;
				this._count--;
			}
			this.UpdateVersion();
			return num;
		}

		// Token: 0x06002285 RID: 8837 RVA: 0x0009284C File Offset: 0x00090A4C
		public ItemRosterElement GetElementCopyAtIndex(int index)
		{
			if (index < this._count && index >= 0)
			{
				return this._data[index];
			}
			Debug.FailedAssert("GetElementCopyAtIndex can't find the element in ItemRoster", "C:\\Develop\\MB3\\Source\\Bannerlord\\TaleWorlds.CampaignSystem\\Roster\\ItemRoster.cs", "GetElementCopyAtIndex", 206);
			return ItemRosterElement.Invalid;
		}

		// Token: 0x06002286 RID: 8838 RVA: 0x00092888 File Offset: 0x00090A88
		public ItemObject GetItemAtIndex(int index)
		{
			if (index < this._count && index >= 0)
			{
				return this._data[index].EquipmentElement.Item;
			}
			Debug.FailedAssert("Given index for GetItemAtIndex is not valid in ItemRoster", "C:\\Develop\\MB3\\Source\\Bannerlord\\TaleWorlds.CampaignSystem\\Roster\\ItemRoster.cs", "GetItemAtIndex", 217);
			return null;
		}

		// Token: 0x06002287 RID: 8839 RVA: 0x000928D6 File Offset: 0x00090AD6
		public int GetElementNumber(int index)
		{
			if (index < this._count && index >= 0)
			{
				return this._data[index].Amount;
			}
			Debug.FailedAssert("Given index for GetElementNumber is not valid in ItemRoster", "C:\\Develop\\MB3\\Source\\Bannerlord\\TaleWorlds.CampaignSystem\\Roster\\ItemRoster.cs", "GetElementNumber", 228);
			return 0;
		}

		// Token: 0x06002288 RID: 8840 RVA: 0x00092914 File Offset: 0x00090B14
		public int GetElementUnitCost(int index)
		{
			if (index < this._count && index >= 0)
			{
				return this._data[index].EquipmentElement.ItemValue;
			}
			Debug.FailedAssert("Given index for GetElementUnitCost is not valid in ItemRoster", "C:\\Develop\\MB3\\Source\\Bannerlord\\TaleWorlds.CampaignSystem\\Roster\\ItemRoster.cs", "GetElementUnitCost", 239);
			return 0;
		}

		// Token: 0x06002289 RID: 8841 RVA: 0x00092964 File Offset: 0x00090B64
		public int GetItemNumber(ItemObject item)
		{
			int num = this.FindIndexOfItem(item);
			if (num >= 0)
			{
				return this._data[num].Amount;
			}
			return 0;
		}

		// Token: 0x0600228A RID: 8842 RVA: 0x00092990 File Offset: 0x00090B90
		public void Clear()
		{
			for (int i = 0; i < this._count; i++)
			{
				this._data[i].Clear();
				this._data[i] = ItemRosterElement.Invalid;
			}
			this._count = 0;
			this.CalculateCachedStats();
			ItemRoster.RosterUpdatedEventDelegate rosterUpdatedEvent = this._rosterUpdatedEvent;
			if (rosterUpdatedEvent != null)
			{
				rosterUpdatedEvent(default(ItemRosterElement), 0);
			}
			this.UpdateVersion();
		}

		// Token: 0x0600228B RID: 8843 RVA: 0x00092A00 File Offset: 0x00090C00
		public static bool RostersAreIdentical(ItemRoster a, ItemRoster b)
		{
			if (a == b)
			{
				return true;
			}
			if (a == null || b == null)
			{
				return false;
			}
			if (a.Count != b.Count)
			{
				return false;
			}
			for (int i = 0; i < a.Count; i++)
			{
				ItemRosterElement elementCopyAtIndex = a.GetElementCopyAtIndex(i);
				int num = b.FindIndexOfItem(elementCopyAtIndex.EquipmentElement.Item);
				if (num == -1)
				{
					return false;
				}
				ItemRosterElement elementCopyAtIndex2 = b.GetElementCopyAtIndex(num);
				if (elementCopyAtIndex.EquipmentElement.Item != elementCopyAtIndex2.EquipmentElement.Item || elementCopyAtIndex.Amount != elementCopyAtIndex2.Amount || elementCopyAtIndex.EquipmentElement.ItemModifier != elementCopyAtIndex2.EquipmentElement.ItemModifier)
				{
					return false;
				}
			}
			return true;
		}

		// Token: 0x0600228C RID: 8844 RVA: 0x00092AC6 File Offset: 0x00090CC6
		public IEnumerator<ItemRosterElement> GetEnumerator()
		{
			int num;
			for (int i = 0; i < this.Count; i = num + 1)
			{
				yield return this._data[i];
				num = i;
			}
			yield break;
		}

		// Token: 0x0600228D RID: 8845 RVA: 0x00092AD8 File Offset: 0x00090CD8
		public int SelectRandomIndex(Func<ItemRosterElement, float> weightFunction)
		{
			List<ValueTuple<int, float>> list = new List<ValueTuple<int, float>>();
			float num = 0f;
			for (int i = 0; i < this.Count; i++)
			{
				float num2 = weightFunction(this._data[i]);
				if (num2 > 1E-05f)
				{
					list.Add(new ValueTuple<int, float>(i, num2));
					num += num2;
				}
			}
			if (list.Count > 0)
			{
				float num3 = MBRandom.RandomFloat * num;
				float num4 = 0f;
				for (int j = 0; j < list.Count; j++)
				{
					num4 += list[j].Item2;
					if (num4 >= num3)
					{
						return list[j].Item1;
					}
				}
				return list[list.Count - 1].Item1;
			}
			return -1;
		}

		// Token: 0x0600228E RID: 8846 RVA: 0x00092B97 File Offset: 0x00090D97
		IEnumerator IEnumerable.GetEnumerator()
		{
			return this.GetEnumerator();
		}

		// Token: 0x0600228F RID: 8847 RVA: 0x00092BA0 File Offset: 0x00090DA0
		public IEnumerable<ItemRosterElement> RemoveIf(Func<ItemRosterElement, int> match)
		{
			List<ItemRosterElement> list = new List<ItemRosterElement>();
			for (int i = 0; i < this._count; i++)
			{
				int num = match(this._data[i]);
				if (num > 0)
				{
					if (num > this._data[i].Amount)
					{
						num = this._data[i].Amount;
					}
					list.Add(new ItemRosterElement(this._data[i].EquipmentElement.Item, num, this._data[i].EquipmentElement.ItemModifier));
					this.AddToCounts(this._data[i].EquipmentElement, -num);
				}
			}
			return list;
		}

		// Token: 0x06002290 RID: 8848 RVA: 0x00092C60 File Offset: 0x00090E60
		public void Add(IEnumerable<ItemRosterElement> rosterElementList)
		{
			foreach (ItemRosterElement itemRosterElement in rosterElementList)
			{
				this.AddToCounts(itemRosterElement.EquipmentElement, itemRosterElement.Amount);
			}
		}

		// Token: 0x06002291 RID: 8849 RVA: 0x00092CB8 File Offset: 0x00090EB8
		public void Add(ItemRosterElement itemRosterElement)
		{
			this.AddToCounts(itemRosterElement.EquipmentElement, itemRosterElement.Amount);
		}

		// Token: 0x06002292 RID: 8850 RVA: 0x00092CCF File Offset: 0x00090ECF
		public void Remove(ItemRosterElement itemRosterElement)
		{
			this.AddToCounts(itemRosterElement.EquipmentElement, -itemRosterElement.Amount);
		}

		// Token: 0x06002293 RID: 8851 RVA: 0x00092CE8 File Offset: 0x00090EE8
		void ISerializableObject.SerializeTo(IWriter writer)
		{
			writer.WriteInt(this.Count);
			if (this._data != null)
			{
				writer.WriteInt(this._data.Length);
				foreach (ItemRosterElement itemRosterElement in this._data)
				{
					writer.WriteSerializableObject(itemRosterElement);
				}
				return;
			}
			writer.WriteInt(0);
		}

		// Token: 0x06002294 RID: 8852 RVA: 0x00092D48 File Offset: 0x00090F48
		void ISerializableObject.DeserializeFrom(IReader reader)
		{
			this._count = reader.ReadInt();
			int num = reader.ReadInt();
			this._data = new ItemRosterElement[num];
			for (int i = 0; i < num; i++)
			{
				this._data[i] = (ItemRosterElement)reader.ReadSerializableObject();
			}
			this.CalculateCachedStats();
		}

		// Token: 0x1400000B RID: 11
		// (add) Token: 0x06002295 RID: 8853 RVA: 0x00092DA0 File Offset: 0x00090FA0
		// (remove) Token: 0x06002296 RID: 8854 RVA: 0x00092DD8 File Offset: 0x00090FD8
		private event ItemRoster.RosterUpdatedEventDelegate _rosterUpdatedEvent;

		// Token: 0x1400000C RID: 12
		// (add) Token: 0x06002297 RID: 8855 RVA: 0x00092E0D File Offset: 0x0009100D
		// (remove) Token: 0x06002298 RID: 8856 RVA: 0x00092E16 File Offset: 0x00091016
		public event ItemRoster.RosterUpdatedEventDelegate RosterUpdatedEvent
		{
			add
			{
				this._rosterUpdatedEvent += value;
			}
			remove
			{
				this._rosterUpdatedEvent -= value;
			}
		}

		// Token: 0x06002299 RID: 8857 RVA: 0x00092E20 File Offset: 0x00091020
		public void UpdateVersion()
		{
			int versionNo = this.VersionNo;
			this.VersionNo = versionNo + 1;
		}

		// Token: 0x0600229A RID: 8858 RVA: 0x00092E40 File Offset: 0x00091040
		private void OnRosterUpdated(ref ItemRosterElement itemRosterElement, int count)
		{
			ItemObject item = itemRosterElement.EquipmentElement.Item;
			this.TotalValue += item.Value * count;
			if (item.IsTradeGood)
			{
				this.TradeGoodsTotalValue += item.Value * count;
			}
			if (item.HasHorseComponent)
			{
				if (item.HorseComponent.IsPackAnimal && itemRosterElement.EquipmentElement.ItemModifier == null)
				{
					this.NumberOfPackAnimals += count;
				}
				else if (item.HorseComponent.IsMount && itemRosterElement.EquipmentElement.ItemModifier == null)
				{
					this.NumberOfMounts += count;
				}
				else if (item.HorseComponent.IsLiveStock)
				{
					this.NumberOfLivestockAnimals += count;
					this.TotalFood += count * item.HorseComponent.MeatCount;
				}
			}
			else
			{
				if (item.IsFood)
				{
					this.TotalFood += count;
					if (itemRosterElement.Amount == 0 && count > 0)
					{
						int num = this.FoodVariety;
						this.FoodVariety = num + 1;
					}
					else if (itemRosterElement.Amount > 0 && itemRosterElement.Amount + count <= 0)
					{
						int num = this.FoodVariety;
						this.FoodVariety = num - 1;
					}
				}
				this.TotalWeight += item.Weight * (float)count;
			}
			ItemRoster.RosterUpdatedEventDelegate rosterUpdatedEvent = this._rosterUpdatedEvent;
			if (rosterUpdatedEvent == null)
			{
				return;
			}
			rosterUpdatedEvent(itemRosterElement, count);
		}

		// Token: 0x0600229B RID: 8859 RVA: 0x00092FB8 File Offset: 0x000911B8
		[LoadInitializationCallback]
		public void OnLoadStarted(MetaData metaData)
		{
			ItemRoster.InstanceListForLoadGame.Add(this);
		}

		// Token: 0x0600229C RID: 8860 RVA: 0x00092FC8 File Offset: 0x000911C8
		public static void CalculateCachedStatsOnLoad()
		{
			foreach (ItemRoster itemRoster in ItemRoster.InstanceListForLoadGame)
			{
				ItemRoster.ReplaceInvalidItemsWithTrash(itemRoster);
				ItemRoster.RemoveZeroCountsFromRoster(itemRoster);
				itemRoster.CalculateCachedStats();
			}
			ItemRoster.InstanceListForLoadGame.Clear();
		}

		// Token: 0x0600229D RID: 8861 RVA: 0x00093030 File Offset: 0x00091230
		private static void RemoveZeroCountsFromRoster(ItemRoster itemRoster)
		{
			int num = 0;
			int i = 0;
			if (itemRoster._count != 0 && itemRoster._count > itemRoster._data.Length)
			{
				itemRoster._count = itemRoster._data.Length;
			}
			while (i < itemRoster._count)
			{
				ItemRosterElement itemRosterElement = itemRoster._data[i];
				if (itemRosterElement.Amount > 0)
				{
					if (num != i)
					{
						itemRoster._data[num] = itemRosterElement;
					}
					num++;
				}
				i++;
			}
			for (int j = num; j < itemRoster._count; j++)
			{
				itemRoster._data[j].Clear();
				itemRoster._data[j] = ItemRosterElement.Invalid;
			}
			itemRoster._count = num;
		}

		// Token: 0x0600229E RID: 8862 RVA: 0x000930DC File Offset: 0x000912DC
		private static void ReplaceInvalidItemsWithTrash(ItemRoster itemRoster)
		{
			if (itemRoster._data != null)
			{
				for (int i = itemRoster._data.Length - 1; i >= 0; i--)
				{
					ItemModifier itemModifier = itemRoster._data[i].EquipmentElement.ItemModifier;
					if (itemModifier != null && !itemModifier.IsReady)
					{
						itemRoster.AddToCounts(itemRoster._data[i].EquipmentElement.Item, itemRoster._data[i].Amount);
						itemRoster._data[i].Clear();
					}
					ItemObject item = itemRoster._data[i].EquipmentElement.Item;
					if (item != null && !item.IsReady)
					{
						ItemObject item2 = itemRoster._data[i].EquipmentElement.Item;
						itemRoster.AddToCounts(DefaultItems.Trash, itemRoster._data[i].Amount);
						itemRoster._data[i].Clear();
						if (MBObjectManager.Instance.GetObject(item2.Id) == item2)
						{
							MBObjectManager.Instance.UnregisterObject(item2);
						}
					}
				}
			}
		}

		// Token: 0x0600229F RID: 8863 RVA: 0x0009320C File Offset: 0x0009140C
		private void CalculateCachedStats()
		{
			this.TotalWeight = 0f;
			this.NumberOfPackAnimals = 0;
			this.NumberOfMounts = 0;
			this.NumberOfLivestockAnimals = 0;
			this.TotalValue = 0;
			this.TradeGoodsTotalValue = 0;
			this.TotalFood = 0;
			this.FoodVariety = 0;
			for (int i = 0; i < this.Count; i++)
			{
				ItemObject item = this._data[i].EquipmentElement.Item;
				int amount = this._data[i].Amount;
				this.TotalValue += item.Value * amount;
				if (item.IsTradeGood)
				{
					this.TradeGoodsTotalValue += item.Value * amount;
				}
				if (item.HasHorseComponent)
				{
					if (item.HorseComponent.IsPackAnimal)
					{
						this.NumberOfPackAnimals += amount;
					}
					else if (item.HorseComponent.IsMount)
					{
						this.NumberOfMounts += amount;
					}
					else if (item.HorseComponent.IsLiveStock)
					{
						this.NumberOfLivestockAnimals += amount;
						this.TotalFood += amount * item.HorseComponent.MeatCount;
					}
				}
				else
				{
					if (item.IsFood)
					{
						this.TotalFood += amount;
						int foodVariety = this.FoodVariety;
						this.FoodVariety = foodVariety + 1;
					}
					this.TotalWeight += item.Weight * (float)amount;
				}
			}
		}

		// Token: 0x17000895 RID: 2197
		// (get) Token: 0x060022A0 RID: 8864 RVA: 0x00093384 File Offset: 0x00091584
		// (set) Token: 0x060022A1 RID: 8865 RVA: 0x0009338C File Offset: 0x0009158C
		[CachedData]
		public float TotalWeight { get; private set; }

		// Token: 0x17000896 RID: 2198
		// (get) Token: 0x060022A2 RID: 8866 RVA: 0x00093395 File Offset: 0x00091595
		// (set) Token: 0x060022A3 RID: 8867 RVA: 0x0009339D File Offset: 0x0009159D
		[CachedData]
		public int TotalFood { get; internal set; }

		// Token: 0x17000897 RID: 2199
		// (get) Token: 0x060022A4 RID: 8868 RVA: 0x000933A6 File Offset: 0x000915A6
		// (set) Token: 0x060022A5 RID: 8869 RVA: 0x000933AE File Offset: 0x000915AE
		[CachedData]
		public int FoodVariety { get; internal set; }

		// Token: 0x17000898 RID: 2200
		// (get) Token: 0x060022A6 RID: 8870 RVA: 0x000933B7 File Offset: 0x000915B7
		// (set) Token: 0x060022A7 RID: 8871 RVA: 0x000933BF File Offset: 0x000915BF
		[CachedData]
		public int TotalValue { get; internal set; }

		// Token: 0x17000899 RID: 2201
		// (get) Token: 0x060022A8 RID: 8872 RVA: 0x000933C8 File Offset: 0x000915C8
		// (set) Token: 0x060022A9 RID: 8873 RVA: 0x000933D0 File Offset: 0x000915D0
		[CachedData]
		public int TradeGoodsTotalValue { get; internal set; }

		// Token: 0x1700089A RID: 2202
		// (get) Token: 0x060022AA RID: 8874 RVA: 0x000933D9 File Offset: 0x000915D9
		// (set) Token: 0x060022AB RID: 8875 RVA: 0x000933E1 File Offset: 0x000915E1
		[CachedData]
		public int NumberOfPackAnimals { get; private set; }

		// Token: 0x1700089B RID: 2203
		// (get) Token: 0x060022AC RID: 8876 RVA: 0x000933EA File Offset: 0x000915EA
		// (set) Token: 0x060022AD RID: 8877 RVA: 0x000933F2 File Offset: 0x000915F2
		[CachedData]
		public int NumberOfLivestockAnimals { get; private set; }

		// Token: 0x1700089C RID: 2204
		// (get) Token: 0x060022AE RID: 8878 RVA: 0x000933FB File Offset: 0x000915FB
		// (set) Token: 0x060022AF RID: 8879 RVA: 0x00093403 File Offset: 0x00091603
		[CachedData]
		public int NumberOfMounts { get; private set; }

		// Token: 0x04000AA8 RID: 2728
		[SaveableField(0)]
		private ItemRosterElement[] _data;

		// Token: 0x04000AA9 RID: 2729
		[SaveableField(1)]
		private int _count;

		// Token: 0x04000AAA RID: 2730
		private static readonly List<ItemRoster> InstanceListForLoadGame = new List<ItemRoster>();

		// Token: 0x020005A4 RID: 1444
		// (Invoke) Token: 0x0600451F RID: 17695
		public delegate void RosterUpdatedEventDelegate(ItemRosterElement item, int count);
	}
}
