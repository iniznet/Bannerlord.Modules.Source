using System;
using System.Collections.Generic;

namespace TaleWorlds.CampaignSystem.MapEvents
{
	public abstract class MapEventComponent
	{
		protected virtual void AutoGeneratedInstanceCollectObjects(List<object> collectedObjects)
		{
		}

		public MapEvent MapEvent { get; private set; }

		protected MapEventComponent(MapEvent mapEvent)
		{
			this.MapEvent = mapEvent;
		}

		internal void AfterLoad(MapEvent mapEvent)
		{
			this.MapEvent = mapEvent;
			this.OnAfterLoad();
		}

		internal void InitializeComponent()
		{
			this.OnInitialize();
		}

		internal void FinalizeComponent()
		{
			this.OnFinalize();
		}

		protected virtual void OnInitialize()
		{
		}

		protected virtual void OnFinalize()
		{
		}

		internal virtual void Update(ref bool finish)
		{
		}

		internal virtual void Finish()
		{
		}

		internal virtual void OnAfterLoad()
		{
		}
	}
}
