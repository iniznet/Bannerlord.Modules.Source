using System;
using System.Collections.Generic;
using TaleWorlds.SaveSystem;

namespace TaleWorlds.CampaignSystem
{
	// Token: 0x0200006B RID: 107
	public class StanceLink
	{
		// Token: 0x06000DFD RID: 3581 RVA: 0x00042396 File Offset: 0x00040596
		internal static void AutoGeneratedStaticCollectObjectsStanceLink(object o, List<object> collectedObjects)
		{
			((StanceLink)o).AutoGeneratedInstanceCollectObjects(collectedObjects);
		}

		// Token: 0x06000DFE RID: 3582 RVA: 0x000423A4 File Offset: 0x000405A4
		protected virtual void AutoGeneratedInstanceCollectObjects(List<object> collectedObjects)
		{
			CampaignTime.AutoGeneratedStaticCollectObjectsCampaignTime(this._warStartDate, collectedObjects);
			CampaignTime.AutoGeneratedStaticCollectObjectsCampaignTime(this._peaceDeclarationDate, collectedObjects);
			collectedObjects.Add(this.Faction1);
			collectedObjects.Add(this.Faction2);
		}

		// Token: 0x06000DFF RID: 3583 RVA: 0x000423E0 File Offset: 0x000405E0
		internal static object AutoGeneratedGetMemberValueFaction1(object o)
		{
			return ((StanceLink)o).Faction1;
		}

		// Token: 0x06000E00 RID: 3584 RVA: 0x000423ED File Offset: 0x000405ED
		internal static object AutoGeneratedGetMemberValueFaction2(object o)
		{
			return ((StanceLink)o).Faction2;
		}

		// Token: 0x06000E01 RID: 3585 RVA: 0x000423FA File Offset: 0x000405FA
		internal static object AutoGeneratedGetMemberValueBehaviorPriority(object o)
		{
			return ((StanceLink)o).BehaviorPriority;
		}

		// Token: 0x06000E02 RID: 3586 RVA: 0x0004240C File Offset: 0x0004060C
		internal static object AutoGeneratedGetMemberValue_stanceType(object o)
		{
			return ((StanceLink)o)._stanceType;
		}

		// Token: 0x06000E03 RID: 3587 RVA: 0x0004241E File Offset: 0x0004061E
		internal static object AutoGeneratedGetMemberValue_isAtConstantWar(object o)
		{
			return ((StanceLink)o)._isAtConstantWar;
		}

		// Token: 0x06000E04 RID: 3588 RVA: 0x00042430 File Offset: 0x00040630
		internal static object AutoGeneratedGetMemberValue_warStartDate(object o)
		{
			return ((StanceLink)o)._warStartDate;
		}

		// Token: 0x06000E05 RID: 3589 RVA: 0x00042442 File Offset: 0x00040642
		internal static object AutoGeneratedGetMemberValue_peaceDeclarationDate(object o)
		{
			return ((StanceLink)o)._peaceDeclarationDate;
		}

		// Token: 0x06000E06 RID: 3590 RVA: 0x00042454 File Offset: 0x00040654
		internal static object AutoGeneratedGetMemberValue_casualties1(object o)
		{
			return ((StanceLink)o)._casualties1;
		}

		// Token: 0x06000E07 RID: 3591 RVA: 0x00042466 File Offset: 0x00040666
		internal static object AutoGeneratedGetMemberValue_casualties2(object o)
		{
			return ((StanceLink)o)._casualties2;
		}

		// Token: 0x06000E08 RID: 3592 RVA: 0x00042478 File Offset: 0x00040678
		internal static object AutoGeneratedGetMemberValue_successfulSieges1(object o)
		{
			return ((StanceLink)o)._successfulSieges1;
		}

		// Token: 0x06000E09 RID: 3593 RVA: 0x0004248A File Offset: 0x0004068A
		internal static object AutoGeneratedGetMemberValue_successfulSieges2(object o)
		{
			return ((StanceLink)o)._successfulSieges2;
		}

		// Token: 0x06000E0A RID: 3594 RVA: 0x0004249C File Offset: 0x0004069C
		internal static object AutoGeneratedGetMemberValue_successfulRaids1(object o)
		{
			return ((StanceLink)o)._successfulRaids1;
		}

		// Token: 0x06000E0B RID: 3595 RVA: 0x000424AE File Offset: 0x000406AE
		internal static object AutoGeneratedGetMemberValue_successfulRaids2(object o)
		{
			return ((StanceLink)o)._successfulRaids2;
		}

		// Token: 0x06000E0C RID: 3596 RVA: 0x000424C0 File Offset: 0x000406C0
		internal static object AutoGeneratedGetMemberValue_totalTributePaidby1(object o)
		{
			return ((StanceLink)o)._totalTributePaidby1;
		}

		// Token: 0x06000E0D RID: 3597 RVA: 0x000424D2 File Offset: 0x000406D2
		internal static object AutoGeneratedGetMemberValue_totalTributePaidby2(object o)
		{
			return ((StanceLink)o)._totalTributePaidby2;
		}

		// Token: 0x06000E0E RID: 3598 RVA: 0x000424E4 File Offset: 0x000406E4
		internal static object AutoGeneratedGetMemberValue_dailyTributeFrom1To2(object o)
		{
			return ((StanceLink)o)._dailyTributeFrom1To2;
		}

		// Token: 0x17000363 RID: 867
		// (get) Token: 0x06000E0F RID: 3599 RVA: 0x000424F6 File Offset: 0x000406F6
		// (set) Token: 0x06000E10 RID: 3600 RVA: 0x000424FE File Offset: 0x000406FE
		public bool IsAtConstantWar
		{
			get
			{
				return this._isAtConstantWar;
			}
			set
			{
				this._isAtConstantWar = value;
				if (value)
				{
					this.IsAtWar = true;
				}
			}
		}

		// Token: 0x17000364 RID: 868
		// (get) Token: 0x06000E11 RID: 3601 RVA: 0x00042511 File Offset: 0x00040711
		// (set) Token: 0x06000E12 RID: 3602 RVA: 0x0004251C File Offset: 0x0004071C
		internal StanceType StanceType
		{
			get
			{
				return this._stanceType;
			}
			set
			{
				if (this._stanceType != value)
				{
					if (this._stanceType == StanceType.War)
					{
						this.ResetStats();
						this.PeaceDeclarationDate = CampaignTime.Now;
					}
					this._stanceType = value;
					if (this._stanceType == StanceType.War)
					{
						this.ResetStats();
						this.WarStartDate = CampaignTime.Now;
					}
					this.Faction1.ConsiderSiegesAndMapEvents(this.Faction2);
					this.Faction2.ConsiderSiegesAndMapEvents(this.Faction1);
				}
			}
		}

		// Token: 0x06000E13 RID: 3603 RVA: 0x00042590 File Offset: 0x00040790
		private void ResetStats()
		{
			this.Casualties1 = 0;
			this.Casualties2 = 0;
			this.SuccessfulRaids1 = 0;
			this.SuccessfulRaids2 = 0;
			this.SuccessfulSieges1 = 0;
			this.SuccessfulSieges2 = 0;
			this.TotalTributePaidby1 = 0;
			this.TotalTributePaidby2 = 0;
			this._dailyTributeFrom1To2 = 0;
		}

		// Token: 0x06000E14 RID: 3604 RVA: 0x000425DC File Offset: 0x000407DC
		internal void ResetPeaceStats()
		{
			this.ResetStats();
			this.PeaceDeclarationDate = CampaignTime.Now;
		}

		// Token: 0x17000365 RID: 869
		// (get) Token: 0x06000E15 RID: 3605 RVA: 0x000425EF File Offset: 0x000407EF
		// (set) Token: 0x06000E16 RID: 3606 RVA: 0x000425FA File Offset: 0x000407FA
		public bool IsAtWar
		{
			get
			{
				return this._stanceType == StanceType.War;
			}
			set
			{
				this._stanceType = ((!value) ? StanceType.Neutral : StanceType.War);
			}
		}

		// Token: 0x17000366 RID: 870
		// (get) Token: 0x06000E17 RID: 3607 RVA: 0x00042609 File Offset: 0x00040809
		// (set) Token: 0x06000E18 RID: 3608 RVA: 0x00042614 File Offset: 0x00040814
		public bool IsAllied
		{
			get
			{
				return this._stanceType == StanceType.Alliance;
			}
			set
			{
				this._stanceType = ((!value) ? StanceType.Neutral : StanceType.Alliance);
			}
		}

		// Token: 0x17000367 RID: 871
		// (get) Token: 0x06000E19 RID: 3609 RVA: 0x00042623 File Offset: 0x00040823
		public bool IsNeutral
		{
			get
			{
				return this._stanceType == StanceType.Neutral;
			}
		}

		// Token: 0x17000368 RID: 872
		// (get) Token: 0x06000E1A RID: 3610 RVA: 0x0004262E File Offset: 0x0004082E
		// (set) Token: 0x06000E1B RID: 3611 RVA: 0x00042636 File Offset: 0x00040836
		[SaveableProperty(20)]
		public IFaction Faction1 { get; private set; }

		// Token: 0x17000369 RID: 873
		// (get) Token: 0x06000E1C RID: 3612 RVA: 0x0004263F File Offset: 0x0004083F
		// (set) Token: 0x06000E1D RID: 3613 RVA: 0x00042647 File Offset: 0x00040847
		[SaveableProperty(30)]
		public IFaction Faction2 { get; private set; }

		// Token: 0x1700036A RID: 874
		// (get) Token: 0x06000E1E RID: 3614 RVA: 0x00042650 File Offset: 0x00040850
		// (set) Token: 0x06000E1F RID: 3615 RVA: 0x00042658 File Offset: 0x00040858
		public CampaignTime WarStartDate
		{
			get
			{
				return this._warStartDate;
			}
			private set
			{
				this._warStartDate = value;
			}
		}

		// Token: 0x1700036B RID: 875
		// (get) Token: 0x06000E20 RID: 3616 RVA: 0x00042661 File Offset: 0x00040861
		// (set) Token: 0x06000E21 RID: 3617 RVA: 0x00042669 File Offset: 0x00040869
		public CampaignTime PeaceDeclarationDate
		{
			get
			{
				return this._peaceDeclarationDate;
			}
			private set
			{
				this._peaceDeclarationDate = value;
			}
		}

		// Token: 0x1700036C RID: 876
		// (get) Token: 0x06000E22 RID: 3618 RVA: 0x00042672 File Offset: 0x00040872
		// (set) Token: 0x06000E23 RID: 3619 RVA: 0x0004267A File Offset: 0x0004087A
		public int Casualties1
		{
			get
			{
				return this._casualties1;
			}
			set
			{
				this._casualties1 = value;
			}
		}

		// Token: 0x1700036D RID: 877
		// (get) Token: 0x06000E24 RID: 3620 RVA: 0x00042683 File Offset: 0x00040883
		// (set) Token: 0x06000E25 RID: 3621 RVA: 0x0004268B File Offset: 0x0004088B
		public int Casualties2
		{
			get
			{
				return this._casualties2;
			}
			set
			{
				this._casualties2 = value;
			}
		}

		// Token: 0x06000E26 RID: 3622 RVA: 0x00042694 File Offset: 0x00040894
		public int GetCasualties(IFaction faction)
		{
			if (faction == this.Faction1)
			{
				return this._casualties1;
			}
			if (faction != this.Faction2)
			{
				return 0;
			}
			return this._casualties2;
		}

		// Token: 0x1700036E RID: 878
		// (get) Token: 0x06000E27 RID: 3623 RVA: 0x000426B7 File Offset: 0x000408B7
		// (set) Token: 0x06000E28 RID: 3624 RVA: 0x000426BF File Offset: 0x000408BF
		public int SuccessfulSieges1
		{
			get
			{
				return this._successfulSieges1;
			}
			set
			{
				this._successfulSieges1 = value;
			}
		}

		// Token: 0x1700036F RID: 879
		// (get) Token: 0x06000E29 RID: 3625 RVA: 0x000426C8 File Offset: 0x000408C8
		// (set) Token: 0x06000E2A RID: 3626 RVA: 0x000426D0 File Offset: 0x000408D0
		public int SuccessfulSieges2
		{
			get
			{
				return this._successfulSieges2;
			}
			set
			{
				this._successfulSieges2 = value;
			}
		}

		// Token: 0x06000E2B RID: 3627 RVA: 0x000426D9 File Offset: 0x000408D9
		public int GetSuccessfulSieges(IFaction faction)
		{
			if (faction == this.Faction1)
			{
				return this._successfulSieges1;
			}
			if (faction != this.Faction2)
			{
				return 0;
			}
			return this._successfulSieges2;
		}

		// Token: 0x17000370 RID: 880
		// (get) Token: 0x06000E2C RID: 3628 RVA: 0x000426FC File Offset: 0x000408FC
		// (set) Token: 0x06000E2D RID: 3629 RVA: 0x00042704 File Offset: 0x00040904
		public int SuccessfulRaids1
		{
			get
			{
				return this._successfulRaids1;
			}
			set
			{
				this._successfulRaids1 = value;
			}
		}

		// Token: 0x17000371 RID: 881
		// (get) Token: 0x06000E2E RID: 3630 RVA: 0x0004270D File Offset: 0x0004090D
		// (set) Token: 0x06000E2F RID: 3631 RVA: 0x00042715 File Offset: 0x00040915
		public int SuccessfulRaids2
		{
			get
			{
				return this._successfulRaids2;
			}
			set
			{
				this._successfulRaids2 = value;
			}
		}

		// Token: 0x06000E30 RID: 3632 RVA: 0x0004271E File Offset: 0x0004091E
		public int GetSuccessfulRaids(IFaction faction)
		{
			if (faction == this.Faction1)
			{
				return this._successfulRaids1;
			}
			if (faction != this.Faction2)
			{
				return 0;
			}
			return this._successfulRaids2;
		}

		// Token: 0x17000372 RID: 882
		// (get) Token: 0x06000E31 RID: 3633 RVA: 0x00042741 File Offset: 0x00040941
		// (set) Token: 0x06000E32 RID: 3634 RVA: 0x00042749 File Offset: 0x00040949
		public int TotalTributePaidby1
		{
			get
			{
				return this._totalTributePaidby1;
			}
			set
			{
				this._totalTributePaidby1 = value;
			}
		}

		// Token: 0x17000373 RID: 883
		// (get) Token: 0x06000E33 RID: 3635 RVA: 0x00042752 File Offset: 0x00040952
		// (set) Token: 0x06000E34 RID: 3636 RVA: 0x0004275A File Offset: 0x0004095A
		public int TotalTributePaidby2
		{
			get
			{
				return this._totalTributePaidby2;
			}
			set
			{
				this._totalTributePaidby2 = value;
			}
		}

		// Token: 0x06000E35 RID: 3637 RVA: 0x00042763 File Offset: 0x00040963
		public int GetTotalTributePaid(IFaction faction)
		{
			if (faction == this.Faction1)
			{
				return this._totalTributePaidby1;
			}
			if (faction != this.Faction2)
			{
				return 0;
			}
			return this._totalTributePaidby2;
		}

		// Token: 0x17000374 RID: 884
		// (get) Token: 0x06000E36 RID: 3638 RVA: 0x00042786 File Offset: 0x00040986
		// (set) Token: 0x06000E37 RID: 3639 RVA: 0x0004278E File Offset: 0x0004098E
		private int DailyTributeFrom1To2
		{
			get
			{
				return this._dailyTributeFrom1To2;
			}
			set
			{
				this._dailyTributeFrom1To2 = value;
			}
		}

		// Token: 0x17000375 RID: 885
		// (get) Token: 0x06000E38 RID: 3640 RVA: 0x00042797 File Offset: 0x00040997
		// (set) Token: 0x06000E39 RID: 3641 RVA: 0x000427A0 File Offset: 0x000409A0
		private int DailyTributeFrom2To1
		{
			get
			{
				return -this._dailyTributeFrom1To2;
			}
			set
			{
				this._dailyTributeFrom1To2 = -value;
			}
		}

		// Token: 0x06000E3A RID: 3642 RVA: 0x000427AA File Offset: 0x000409AA
		public int GetDailyTributePaid(IFaction faction)
		{
			if (faction == this.Faction1)
			{
				return this.DailyTributeFrom1To2;
			}
			if (faction != this.Faction2)
			{
				return 0;
			}
			return this.DailyTributeFrom2To1;
		}

		// Token: 0x06000E3B RID: 3643 RVA: 0x000427CD File Offset: 0x000409CD
		public void SetDailyTributePaid(IFaction payer, int dailyTribute)
		{
			this.DailyTributeFrom1To2 = ((payer == this.Faction1) ? dailyTribute : ((payer == this.Faction2) ? (-dailyTribute) : 0));
		}

		// Token: 0x06000E3C RID: 3644 RVA: 0x000427EF File Offset: 0x000409EF
		internal StanceLink(StanceType stanceType, IFaction faction1, IFaction faction2, bool isAtConstantWar)
		{
			this._stanceType = stanceType;
			this.Faction1 = faction1;
			this.Faction2 = faction2;
			this._isAtConstantWar = isAtConstantWar;
		}

		// Token: 0x0400041A RID: 1050
		[SaveableField(0)]
		private StanceType _stanceType;

		// Token: 0x0400041B RID: 1051
		[SaveableField(1)]
		private bool _isAtConstantWar;

		// Token: 0x0400041C RID: 1052
		[SaveableField(3)]
		public int BehaviorPriority;

		// Token: 0x0400041F RID: 1055
		[SaveableField(40)]
		private CampaignTime _warStartDate;

		// Token: 0x04000420 RID: 1056
		[SaveableField(50)]
		private CampaignTime _peaceDeclarationDate;

		// Token: 0x04000421 RID: 1057
		[SaveableField(60)]
		private int _casualties1;

		// Token: 0x04000422 RID: 1058
		[SaveableField(70)]
		private int _casualties2;

		// Token: 0x04000423 RID: 1059
		[SaveableField(110)]
		private int _successfulSieges1;

		// Token: 0x04000424 RID: 1060
		[SaveableField(120)]
		private int _successfulSieges2;

		// Token: 0x04000425 RID: 1061
		[SaveableField(130)]
		private int _successfulRaids1;

		// Token: 0x04000426 RID: 1062
		[SaveableField(140)]
		private int _successfulRaids2;

		// Token: 0x04000427 RID: 1063
		[SaveableField(200)]
		private int _totalTributePaidby1;

		// Token: 0x04000428 RID: 1064
		[SaveableField(210)]
		private int _totalTributePaidby2;

		// Token: 0x04000429 RID: 1065
		[SaveableField(220)]
		private int _dailyTributeFrom1To2;
	}
}
