using System;
using System.Collections.Generic;
using TaleWorlds.SaveSystem;

namespace TaleWorlds.CampaignSystem.Issues
{
	public class HeroRelatedIssueCoolDownData : IssueCoolDownData
	{
		internal static void AutoGeneratedStaticCollectObjectsHeroRelatedIssueCoolDownData(object o, List<object> collectedObjects)
		{
			((HeroRelatedIssueCoolDownData)o).AutoGeneratedInstanceCollectObjects(collectedObjects);
		}

		protected override void AutoGeneratedInstanceCollectObjects(List<object> collectedObjects)
		{
			base.AutoGeneratedInstanceCollectObjects(collectedObjects);
			collectedObjects.Add(this.RelatedHero);
		}

		internal static object AutoGeneratedGetMemberValueRelatedHero(object o)
		{
			return ((HeroRelatedIssueCoolDownData)o).RelatedHero;
		}

		public HeroRelatedIssueCoolDownData(Hero hero, CampaignTime expireTime)
			: base(expireTime)
		{
			this.RelatedHero = hero;
		}

		public override bool IsRelatedTo(object obj)
		{
			Hero hero;
			return (hero = obj as Hero) != null && this.RelatedHero == hero;
		}

		public override bool IsValid()
		{
			return base.IsValid() && this.RelatedHero != null;
		}

		[SaveableField(1)]
		public readonly Hero RelatedHero;
	}
}
