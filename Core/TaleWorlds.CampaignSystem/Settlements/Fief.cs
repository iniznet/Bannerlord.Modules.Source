using System;
using System.Collections.Generic;
using TaleWorlds.CampaignSystem.Party;
using TaleWorlds.CampaignSystem.Party.PartyComponents;
using TaleWorlds.Library;
using TaleWorlds.SaveSystem;

namespace TaleWorlds.CampaignSystem.Settlements
{
	public abstract class Fief : SettlementComponent
	{
		protected override void AutoGeneratedInstanceCollectObjects(List<object> collectedObjects)
		{
			base.AutoGeneratedInstanceCollectObjects(collectedObjects);
		}

		internal static object AutoGeneratedGetMemberValueFoodStocks(object o)
		{
			return ((Fief)o).FoodStocks;
		}

		public float Prosperity
		{
			get
			{
				return base.Owner.Settlement.Prosperity;
			}
		}

		[SaveableProperty(100)]
		public float FoodStocks { get; set; }

		public float Militia
		{
			get
			{
				return base.Owner.Settlement.Militia;
			}
		}

		public MobileParty GarrisonParty
		{
			get
			{
				GarrisonPartyComponent garrisonPartyComponent = this.GarrisonPartyComponent;
				if (garrisonPartyComponent == null)
				{
					return null;
				}
				return garrisonPartyComponent.MobileParty;
			}
		}

		[CachedData]
		public GarrisonPartyComponent GarrisonPartyComponent;
	}
}
