using System;
using System.Collections.Generic;
using TaleWorlds.CampaignSystem.CharacterDevelopment;
using TaleWorlds.Core;
using TaleWorlds.Localization;
using TaleWorlds.SaveSystem;

namespace TaleWorlds.CampaignSystem.MapNotificationTypes
{
	// Token: 0x02000266 RID: 614
	public class TraitChangedMapNotification : InformationData
	{
		// Token: 0x06001FA7 RID: 8103 RVA: 0x00088D60 File Offset: 0x00086F60
		internal static void AutoGeneratedStaticCollectObjectsTraitChangedMapNotification(object o, List<object> collectedObjects)
		{
			((TraitChangedMapNotification)o).AutoGeneratedInstanceCollectObjects(collectedObjects);
		}

		// Token: 0x06001FA8 RID: 8104 RVA: 0x00088D6E File Offset: 0x00086F6E
		protected override void AutoGeneratedInstanceCollectObjects(List<object> collectedObjects)
		{
			base.AutoGeneratedInstanceCollectObjects(collectedObjects);
			collectedObjects.Add(this.Trait);
		}

		// Token: 0x06001FA9 RID: 8105 RVA: 0x00088D83 File Offset: 0x00086F83
		internal static object AutoGeneratedGetMemberValueTrait(object o)
		{
			return ((TraitChangedMapNotification)o).Trait;
		}

		// Token: 0x06001FAA RID: 8106 RVA: 0x00088D90 File Offset: 0x00086F90
		internal static object AutoGeneratedGetMemberValueGained(object o)
		{
			return ((TraitChangedMapNotification)o).Gained;
		}

		// Token: 0x06001FAB RID: 8107 RVA: 0x00088DA2 File Offset: 0x00086FA2
		internal static object AutoGeneratedGetMemberValuePreviousTraitLevel(object o)
		{
			return ((TraitChangedMapNotification)o).PreviousTraitLevel;
		}

		// Token: 0x06001FAC RID: 8108 RVA: 0x00088DB4 File Offset: 0x00086FB4
		internal static object AutoGeneratedGetMemberValueCurrentTraitLevel(object o)
		{
			return ((TraitChangedMapNotification)o).CurrentTraitLevel;
		}

		// Token: 0x17000807 RID: 2055
		// (get) Token: 0x06001FAD RID: 8109 RVA: 0x00088DC6 File Offset: 0x00086FC6
		public override TextObject TitleText
		{
			get
			{
				if (!this.Gained)
				{
					return new TextObject("{=UT211jbX}Trait Lost", null);
				}
				return new TextObject("{=kbaA7aC8}Trait Gained", null);
			}
		}

		// Token: 0x17000808 RID: 2056
		// (get) Token: 0x06001FAE RID: 8110 RVA: 0x00088DE7 File Offset: 0x00086FE7
		public override string SoundEventPath
		{
			get
			{
				return "";
			}
		}

		// Token: 0x17000809 RID: 2057
		// (get) Token: 0x06001FAF RID: 8111 RVA: 0x00088DEE File Offset: 0x00086FEE
		// (set) Token: 0x06001FB0 RID: 8112 RVA: 0x00088DF6 File Offset: 0x00086FF6
		[SaveableProperty(1)]
		public TraitObject Trait { get; private set; }

		// Token: 0x1700080A RID: 2058
		// (get) Token: 0x06001FB1 RID: 8113 RVA: 0x00088DFF File Offset: 0x00086FFF
		// (set) Token: 0x06001FB2 RID: 8114 RVA: 0x00088E07 File Offset: 0x00087007
		[SaveableProperty(2)]
		public bool Gained { get; private set; }

		// Token: 0x1700080B RID: 2059
		// (get) Token: 0x06001FB3 RID: 8115 RVA: 0x00088E10 File Offset: 0x00087010
		// (set) Token: 0x06001FB4 RID: 8116 RVA: 0x00088E18 File Offset: 0x00087018
		[SaveableProperty(3)]
		public int PreviousTraitLevel { get; private set; }

		// Token: 0x1700080C RID: 2060
		// (get) Token: 0x06001FB5 RID: 8117 RVA: 0x00088E21 File Offset: 0x00087021
		// (set) Token: 0x06001FB6 RID: 8118 RVA: 0x00088E29 File Offset: 0x00087029
		[SaveableProperty(4)]
		public int CurrentTraitLevel { get; private set; }

		// Token: 0x06001FB7 RID: 8119 RVA: 0x00088E32 File Offset: 0x00087032
		public TraitChangedMapNotification(TraitObject trait, bool gained, int previousLevel, TextObject descriptionText)
			: base(descriptionText)
		{
			this.CurrentTraitLevel = Hero.MainHero.GetTraitLevel(trait);
			this.Gained = gained;
			this.Trait = trait;
			this.PreviousTraitLevel = previousLevel;
		}
	}
}
