using System;
using System.Collections.Generic;
using Helpers;
using TaleWorlds.Core;
using TaleWorlds.Localization;
using TaleWorlds.ObjectSystem;
using TaleWorlds.SaveSystem;

namespace TaleWorlds.CampaignSystem.LogEntries
{
	// Token: 0x020002E5 RID: 741
	public class PregnancyLogEntry : LogEntry, IEncyclopediaLog, IChatNotification
	{
		// Token: 0x06002AE3 RID: 10979 RVA: 0x000B5AB4 File Offset: 0x000B3CB4
		internal static void AutoGeneratedStaticCollectObjectsPregnancyLogEntry(object o, List<object> collectedObjects)
		{
			((PregnancyLogEntry)o).AutoGeneratedInstanceCollectObjects(collectedObjects);
		}

		// Token: 0x06002AE4 RID: 10980 RVA: 0x000B5AC2 File Offset: 0x000B3CC2
		protected override void AutoGeneratedInstanceCollectObjects(List<object> collectedObjects)
		{
			base.AutoGeneratedInstanceCollectObjects(collectedObjects);
			collectedObjects.Add(this.Mother);
		}

		// Token: 0x06002AE5 RID: 10981 RVA: 0x000B5AD7 File Offset: 0x000B3CD7
		internal static object AutoGeneratedGetMemberValueMother(object o)
		{
			return ((PregnancyLogEntry)o).Mother;
		}

		// Token: 0x17000A74 RID: 2676
		// (get) Token: 0x06002AE6 RID: 10982 RVA: 0x000B5AE4 File Offset: 0x000B3CE4
		public bool IsVisibleNotification
		{
			get
			{
				return this.Mother.Clan.Equals(Hero.MainHero.Clan);
			}
		}

		// Token: 0x17000A75 RID: 2677
		// (get) Token: 0x06002AE7 RID: 10983 RVA: 0x000B5B00 File Offset: 0x000B3D00
		public override ChatNotificationType NotificationType
		{
			get
			{
				return base.CivilianNotification(this.Mother.Clan);
			}
		}

		// Token: 0x17000A76 RID: 2678
		// (get) Token: 0x06002AE8 RID: 10984 RVA: 0x000B5B13 File Offset: 0x000B3D13
		public override CampaignTime KeepInHistoryTime
		{
			get
			{
				return CampaignTime.Days(Campaign.Current.Models.PregnancyModel.PregnancyDurationInDays + 7f);
			}
		}

		// Token: 0x06002AE9 RID: 10985 RVA: 0x000B5B34 File Offset: 0x000B3D34
		public PregnancyLogEntry(Hero mother)
		{
			this.Mother = mother;
		}

		// Token: 0x06002AEA RID: 10986 RVA: 0x000B5B43 File Offset: 0x000B3D43
		public override string ToString()
		{
			return this.GetEncyclopediaText().ToString();
		}

		// Token: 0x06002AEB RID: 10987 RVA: 0x000B5B50 File Offset: 0x000B3D50
		public TextObject GetNotificationText()
		{
			return this.GetEncyclopediaText();
		}

		// Token: 0x06002AEC RID: 10988 RVA: 0x000B5B58 File Offset: 0x000B3D58
		public bool IsVisibleInEncyclopediaPageOf<T>(T obj) where T : MBObjectBase
		{
			return obj == this.Mother;
		}

		// Token: 0x06002AED RID: 10989 RVA: 0x000B5B68 File Offset: 0x000B3D68
		public TextObject GetEncyclopediaText()
		{
			TextObject textObject = GameTexts.FindText("str_notification_pregnant", null);
			StringHelpers.SetCharacterProperties("MOTHER", this.Mother.CharacterObject, textObject, false);
			return textObject;
		}

		// Token: 0x04000CF4 RID: 3316
		[SaveableField(300)]
		public readonly Hero Mother;
	}
}
