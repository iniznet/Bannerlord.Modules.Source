using System;
using System.Collections.Generic;
using TaleWorlds.SaveSystem;

namespace TaleWorlds.CampaignSystem.LogEntries
{
	public class PlayerCharacterChangedLogEntry : LogEntry
	{
		internal static void AutoGeneratedStaticCollectObjectsPlayerCharacterChangedLogEntry(object o, List<object> collectedObjects)
		{
			((PlayerCharacterChangedLogEntry)o).AutoGeneratedInstanceCollectObjects(collectedObjects);
		}

		protected override void AutoGeneratedInstanceCollectObjects(List<object> collectedObjects)
		{
			base.AutoGeneratedInstanceCollectObjects(collectedObjects);
			collectedObjects.Add(this.OldPlayerHero);
			collectedObjects.Add(this.NewPlayerHero);
		}

		internal static object AutoGeneratedGetMemberValueOldPlayerHero(object o)
		{
			return ((PlayerCharacterChangedLogEntry)o).OldPlayerHero;
		}

		internal static object AutoGeneratedGetMemberValueNewPlayerHero(object o)
		{
			return ((PlayerCharacterChangedLogEntry)o).NewPlayerHero;
		}

		public override CampaignTime KeepInHistoryTime
		{
			get
			{
				return CampaignTime.Weeks(800f);
			}
		}

		public PlayerCharacterChangedLogEntry(Hero oldPlayerHero, Hero newPlayerHero)
		{
			this.OldPlayerHero = oldPlayerHero;
			this.NewPlayerHero = newPlayerHero;
		}

		[SaveableField(10)]
		public readonly Hero OldPlayerHero;

		[SaveableField(20)]
		public readonly Hero NewPlayerHero;
	}
}
