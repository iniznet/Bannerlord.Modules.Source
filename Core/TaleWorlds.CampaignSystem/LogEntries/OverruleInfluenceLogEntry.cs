using System;
using System.Collections.Generic;
using TaleWorlds.Core;
using TaleWorlds.Localization;
using TaleWorlds.SaveSystem;

namespace TaleWorlds.CampaignSystem.LogEntries
{
	// Token: 0x020002E1 RID: 737
	public class OverruleInfluenceLogEntry : LogEntry
	{
		// Token: 0x06002AB0 RID: 10928 RVA: 0x000B4C18 File Offset: 0x000B2E18
		internal static void AutoGeneratedStaticCollectObjectsOverruleInfluenceLogEntry(object o, List<object> collectedObjects)
		{
			((OverruleInfluenceLogEntry)o).AutoGeneratedInstanceCollectObjects(collectedObjects);
		}

		// Token: 0x06002AB1 RID: 10929 RVA: 0x000B4C26 File Offset: 0x000B2E26
		protected override void AutoGeneratedInstanceCollectObjects(List<object> collectedObjects)
		{
			base.AutoGeneratedInstanceCollectObjects(collectedObjects);
			collectedObjects.Add(this._liege);
		}

		// Token: 0x06002AB2 RID: 10930 RVA: 0x000B4C3B File Offset: 0x000B2E3B
		internal static object AutoGeneratedGetMemberValue_liege(object o)
		{
			return ((OverruleInfluenceLogEntry)o)._liege;
		}

		// Token: 0x17000A70 RID: 2672
		// (get) Token: 0x06002AB3 RID: 10931 RVA: 0x000B4C48 File Offset: 0x000B2E48
		public override CampaignTime KeepInHistoryTime
		{
			get
			{
				return CampaignTime.Weeks(240f);
			}
		}

		// Token: 0x06002AB4 RID: 10932 RVA: 0x000B4C54 File Offset: 0x000B2E54
		public OverruleInfluenceLogEntry(Hero liege, Hero wrongedLord)
		{
			this._liege = liege;
		}

		// Token: 0x06002AB5 RID: 10933 RVA: 0x000B4C63 File Offset: 0x000B2E63
		public override TextObject GetHistoricComment(Hero talkTroop)
		{
			TextObject textObject = GameTexts.FindText("str_overrule_influence_historic_comment", null);
			textObject.SetTextVariable("HERO", this._liege.Name);
			textObject.SetTextVariable("FACTION", this._liege.Clan.Name);
			return textObject;
		}

		// Token: 0x06002AB6 RID: 10934 RVA: 0x000B4CA3 File Offset: 0x000B2EA3
		public override int GetValueAsPoliticsAbuseOfPower(Hero referenceTroop, Hero liege)
		{
			if (liege == this._liege)
			{
				return 3;
			}
			return 0;
		}

		// Token: 0x06002AB7 RID: 10935 RVA: 0x000B4CB1 File Offset: 0x000B2EB1
		public override string ToString()
		{
			return "OverruleInfluenceLogEntry";
		}

		// Token: 0x04000CE1 RID: 3297
		[SaveableField(260)]
		private readonly Hero _liege;
	}
}
