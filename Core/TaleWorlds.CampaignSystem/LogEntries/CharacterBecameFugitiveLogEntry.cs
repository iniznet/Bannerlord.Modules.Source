using System;
using System.Collections.Generic;
using Helpers;
using TaleWorlds.Core;
using TaleWorlds.Localization;
using TaleWorlds.ObjectSystem;
using TaleWorlds.SaveSystem;

namespace TaleWorlds.CampaignSystem.LogEntries
{
	// Token: 0x020002D1 RID: 721
	public class CharacterBecameFugitiveLogEntry : LogEntry, IEncyclopediaLog
	{
		// Token: 0x060029F2 RID: 10738 RVA: 0x000B2DBF File Offset: 0x000B0FBF
		internal static void AutoGeneratedStaticCollectObjectsCharacterBecameFugitiveLogEntry(object o, List<object> collectedObjects)
		{
			((CharacterBecameFugitiveLogEntry)o).AutoGeneratedInstanceCollectObjects(collectedObjects);
		}

		// Token: 0x060029F3 RID: 10739 RVA: 0x000B2DCD File Offset: 0x000B0FCD
		protected override void AutoGeneratedInstanceCollectObjects(List<object> collectedObjects)
		{
			base.AutoGeneratedInstanceCollectObjects(collectedObjects);
			collectedObjects.Add(this.Hero);
		}

		// Token: 0x060029F4 RID: 10740 RVA: 0x000B2DE2 File Offset: 0x000B0FE2
		internal static object AutoGeneratedGetMemberValueHero(object o)
		{
			return ((CharacterBecameFugitiveLogEntry)o).Hero;
		}

		// Token: 0x060029F5 RID: 10741 RVA: 0x000B2DEF File Offset: 0x000B0FEF
		public CharacterBecameFugitiveLogEntry(Hero hero)
		{
			this.Hero = hero;
		}

		// Token: 0x060029F6 RID: 10742 RVA: 0x000B2DFE File Offset: 0x000B0FFE
		public override string ToString()
		{
			return this.GetEncyclopediaText().ToString();
		}

		// Token: 0x060029F7 RID: 10743 RVA: 0x000B2E0B File Offset: 0x000B100B
		public bool IsVisibleInEncyclopediaPageOf<T>(T obj) where T : MBObjectBase
		{
			return obj == this.Hero;
		}

		// Token: 0x060029F8 RID: 10744 RVA: 0x000B2E1C File Offset: 0x000B101C
		public TextObject GetEncyclopediaText()
		{
			TextObject textObject = GameTexts.FindText("str_fugitive_news", null);
			StringHelpers.SetCharacterProperties("HERO", this.Hero.CharacterObject, textObject, false);
			return textObject;
		}

		// Token: 0x04000CB3 RID: 3251
		[SaveableField(90)]
		public readonly Hero Hero;
	}
}
